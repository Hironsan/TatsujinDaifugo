# 達人大富豪
「達人大富豪」は、Web上での大富豪プログラミングを通じて、達人プログラマを目指すWebアプリケーションです。


# 目次
- [動作環境](#動作環境)
- [インストール方法](#インストール方法)
- [実行方法](#実行方法)
- [使い方](#使い方)

## ルール
ルールは[UECda標準ルール](http://uecda.nishino-lab.jp/2015/document/)を採用している。

### 基本ルール
* ゲームは5ユーザで対戦を行う。
* 5ユーザの内訳は大富豪、富豪、平民、貧民、大貧民
* 大富豪・大貧民は2枚、富豪・貧民は1枚のカード交換を行う。
* 交換は、大貧民・貧民は最弱カードを自動的に取られ、大富豪・富豪は好きなカードを交換に出せる。
* カードの枚数はジョーカーを1枚含めた53枚。
* 場に出せないカードを出したらパス。
* 手札を一定時間以内に出せなかった場合はパス。
* 全員のパスが連続して20回続くと、あがっていない人の順位がランダムに決まる。

### 採用ルール
* ダイヤの3スタート
* 階段（3枚以上の場合のみ）
* 8切り
* 革命あり（ペアで4枚以上であればジョーカーを含んでいてもOK。階段で5枚以上でもOK。）
* 革命返し（革命条件を満たしている場でも、偶数回カードが出されている場合は革命返しとみなす。）
* スペ3返し
* マーク縛り（複数枚のときの片縛はなし。）

### 不採用ルール
* 都落ち
* イレブンバック
* 数字縛り

## アーキテクチャ
### システム構成
* 開発言語
 * Python 3.4, JavaScript
* フレームワーク
 * Tornado
* DB
 * PostgreSQL 9.4
* 対象ブラウザ
 * Google Chrome, FireFox

### モデル構成

### 通信方式


##インストール方法
インストール方法では、アプリケーションの実行に必要なモジュールのインストール方法について説明します。

### モジュールのインストール
TatsujinDaifugoを動作させるために必要なモジュールは以下のコマンドでインストールできます。
```shell
$ pip install -r requirements.txt
```

##実行方法
実行方法では、データベースの設定、ポートの設定、アプリケーションの実行方法について説明します。
### データベースの設定
TatsujinDaifugo/settings.pyで、データベースの設定を行います。以下はPostgreSQLにおける設定例です。
```python
DATABASES = {
    'default': {
        'ENGINE': 'postgresql+psycopg2',
        'NAME': 'xxxxx',
        'USER': 'xxxxx',
        'PASSWORD': 'xxxxx',
        'HOST': 'localhost',
        'PORT': '5432',
    }
}
```

設定が終わったら、以下のコマンドを実行して、データベースにテーブルを作成します。
```shell
$ cd models
```


### ポートの設定
TatsujinDaifugo/settings.pyで、アプリケーションを動作させるポートの設定を行います。以下が設定例です。
```python
define('port', default=8888, help="run on the given port", type=int)
```
設定例では、デフォルトのポート番号を8888にしています。それ以外にも、ポート番号は実行時に指定することもできます。

### アプリケーションの実行
アプリケーションは以下のコマンドで実行します。
```shell
$ python app.py
```
また、実行時にポート番号を指定することで、指定したポート番号でアプリケーションを実行することができます。
以下では、ポート番号に8000番を指定して実行しています。
```shell
$ python app.py --port=8000
```
アプリケーションをポート番号8888番で起動後、ブラウザで[http://127.0.0.1:8888/](http://127.0.0.1:8888/)にアクセスして
トップページが表示されることを確認します。


## 使い方
Coming Soon
